# Whisper模型使用说明

## 模型说明

在语音识别应用中，我们使用的是OpenAI的Whisper模型，通过`pywhispercpp`库集成。不同大小的模型具有不同的精度和速度特性：

| 模型大小 | 文件大小 | 相对速度 | 推荐用途 |
|---------|--------|---------|---------|
| tiny    | ~75MB  | 最快     | 日常简短语音转写，适合初次尝试 |
| base    | ~142MB | 快      | 一般语音转写需求 |
| small   | ~465MB | 中等    | 更高准确度的语音转写 |
| medium  | ~1.5GB | 慢      | 高质量转写 |
| large   | ~3GB   | 最慢    | 最高质量转写，不推荐在普通PC上使用 |

## 模型存储位置

默认情况下，`pywhispercpp`会将模型文件下载并存储在以下位置：

- Windows: `C:\Users\<用户名>\.cache\whisper`
- MacOS: `/Users/<用户名>/.cache/whisper`
- Linux: `/home/<用户名>/.cache/whisper`

## 如何下载模型

### 自动下载

启动应用程序时，如果选择的模型文件不存在，`pywhispercpp`会自动下载所需的模型。这通常是最简单的方式。

### 手动下载

如果您想预先下载模型，或者遇到自动下载问题，可以通过以下方式手动下载：

1. 双击运行`download_model.bat`
2. 按照提示选择要下载的模型大小（推荐初次使用`tiny`模型）
3. 确认是否需要多语言模型（支持中文需要选择多语言模型）
4. 等待下载完成

### 手动放置模型文件

如果您已经有模型文件，或者从其他地方获取到模型文件，只需将它们放入程序根目录下的`models`文件夹中即可。程序会自动检测并显示可用的模型。

模型文件命名应为`ggml-<模型大小>.bin`，例如`ggml-tiny.bin`、`ggml-small-q8_0.bin`等。

添加新模型后，点击界面上的"刷新"按钮即可在下拉列表中看到新添加的模型。

## 模型使用

在应用程序界面中，您可以通过下拉菜单选择要使用的模型。选择后，模型会在后台加载，这可能需要一些时间，特别是对于较大的模型。

## 注意事项

1. 首次使用某个模型时，需要下载模型文件，请确保网络连接畅通。
2. 较大的模型（medium, large）需要更多的内存和处理能力，在配置较低的电脑上可能会运行缓慢。
3. 如果遇到下载问题，可以尝试使用代理或者手动下载模型文件。
